<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Examen de Traducción Inglés - Español</title>
  <style>
    body { font-family: Arial, sans-serif; background: #f4f4f4; padding: 20px; }
    .question-box { background: white; padding: 20px; border-radius: 10px; margin-bottom: 20px; box-shadow: 0 0 10px rgba(0,0,0,0.1);}
    .options { margin: 10px 0; }
    button { margin: 5px; padding: 10px; border: none; border-radius: 8px; cursor: pointer; }
    .red { background: red; color: white; }
    .green { background: green; color: white; }
    .blue { background: blue; color: white; }
    .reset { background: orange; color: white; }
    .evaluate { background: purple; color: white; }
  </style>
</head>
<body>

<h1>Examen de Traducción Inglés → Español</h1>

<!-- Pregunta 1 -->
<div class="question-box" id="q1">
  <p><b>Pregunta 1:</b> ¿Cuál es la traducción correcta de: <i>best suited for</i>?</p>
  <div class="options">
    <label><input type="radio" name="q1" value="1"> Más adecuado para</label><br>
    <label><input type="radio" name="q1" value="2"> Mejor olvidado</label><br>
    <label><input type="radio" name="q1" value="3"> Usado siempre</label><br>
  </div>
  <button class="red" onclick="leerPregunta('best suited for')">🔴 Leer</button>
  <button class="blue" onclick="escucharPronunciacion('best suited for')">🎤 Pronunciar</button>
  <button class="green" onclick="calificar('q1', '1')">✅ Calificar</button>
  <p id="resultado-q1"></p>
</div>

<!-- Pregunta 2 -->
<div class="question-box" id="q2">
  <p><b>Pregunta 2:</b> ¿Cuál es la traducción correcta de: <i>What is shell scripting best suited for?</i></p>
  <div class="options">
    <label><input type="radio" name="q2" value="1"> ¿Para qué es más adecuado el scripting de shell?</label><br>
    <label><input type="radio" name="q2" value="2"> ¿Qué tan difícil es programar en shell?</label><br>
    <label><input type="radio" name="q2" value="3"> ¿Por qué shell es lento?</label><br>
  </div>
  <button class="red" onclick="leerPregunta('What is shell scripting best suited for?')">🔴 Leer</button>
  <button class="blue" onclick="escucharPronunciacion('What is shell scripting best suited for?')">🎤 Pronunciar</button>
  <button class="green" onclick="calificar('q2', '1')">✅ Calificar</button>
  <p id="resultado-q2"></p>
</div>

<!-- Pregunta 3 -->
<div class="question-box" id="q3">
  <p><b>Pregunta 3:</b> ¿Cuál es la traducción correcta de: <i>When should</i>?</p>
  <div class="options">
    <label><input type="radio" name="q3" value="1"> ¿Cuándo debería?</label><br>
    <label><input type="radio" name="q3" value="2"> ¿Por qué no?</label><br>
    <label><input type="radio" name="q3" value="3"> ¿Cómo hacerlo?</label><br>
  </div>
  <button class="red" onclick="leerPregunta('When should')">🔴 Leer</button>
  <button class="blue" onclick="escucharPronunciacion('When should')">🎤 Pronunciar</button>
  <button class="green" onclick="calificar('q3', '1')">✅ Calificar</button>
  <p id="resultado-q3"></p>
</div>

<!-- Pregunta 4 -->
<div class="question-box" id="q4">
  <p><b>Pregunta 4:</b> ¿Cuál es la traducción correcta de: <i>When should you consider rewriting a shell script in another language?</i></p>
  <div class="options">
    <label><input type="radio" name="q4" value="1"> ¿Cuándo deberías considerar reescribir un script de shell en otro lenguaje?</label><br>
    <label><input type="radio" name="q4" value="2"> ¿Cómo se escribe un script en shell?</label><br>
    <label><input type="radio" name="q4" value="3"> ¿Por qué usar shell y no otro lenguaje?</label><br>
  </div>
  <button class="red" onclick="leerPregunta('When should you consider rewriting a shell script in another language?')">🔴 Leer</button>
  <button class="blue" onclick="escucharPronunciacion('When should you consider rewriting a shell script in another language?')">🎤 Pronunciar</button>
  <button class="green" onclick="calificar('q4', '1')">✅ Calificar</button>
  <p id="resultado-q4"></p>
</div>

<!-- Pregunta 5 -->
<div class="question-box" id="q5">
  <p><b>Pregunta 5:</b> ¿Cuál es la traducción correcta de: <i>should NOT be done</i>?</p>
  <div class="options">
    <label><input type="radio" name="q5" value="1"> No debería hacerse</label><br>
    <label><input type="radio" name="q5" value="2"> Siempre debe hacerse</label><br>
    <label><input type="radio" name="q5" value="3"> Es muy fácil de hacer</label><br>
  </div>
  <button class="red" onclick="leerPregunta('should NOT be done')">🔴 Leer</button>
  <button class="blue" onclick="escucharPronunciacion('should NOT be done')">🎤 Pronunciar</button>
  <button class="green" onclick="calificar('q5', '1')">✅ Calificar</button>
  <p id="resultado-q5"></p>
</div>

<!-- Pregunta 6 -->
<div class="question-box" id="q6">
  <p><b>Pregunta 6:</b> ¿Cuál es la traducción correcta de: <i>What tasks should NOT be done with shell?</i></p>
  <div class="options">
    <label><input type="radio" name="q6" value="1"> ¿Qué tareas no deberían hacerse con shell?</label><br>
    <label><input type="radio" name="q6" value="2"> ¿Qué tareas son fáciles en shell?</label><br>
    <label><input type="radio" name="q6" value="3"> ¿Cómo instalar shell?</label><br>
  </div>
  <button class="red" onclick="leerPregunta('What tasks should NOT be done with shell?')">🔴 Leer</button>
  <button class="blue" onclick="escucharPronunciacion('What tasks should NOT be done with shell?')">🎤 Pronunciar</button>
  <button class="green" onclick="calificar('q6', '1')">✅ Calificar</button>
  <p id="resultado-q6"></p>
</div>

<!-- Pregunta 7 -->
<div class="question-box" id="q7">
  <p><b>Pregunta 7:</b> ¿Cuál es la traducción correcta de: <i>Why is shell scripting not suitable for proprietary closed-source applications?</i></p>
  <div class="options">
    <label><input type="radio" name="q7" value="1"> ¿Por qué el scripting de shell no es adecuado para aplicaciones propietarias de código cerrado?</label><br>
    <label><input type="radio" name="q7" value="2"> ¿Cómo crear aplicaciones cerradas en shell?</label><br>
    <label><input type="radio" name="q7" value="3"> ¿Qué tan rápido es el scripting en shell?</label><br>
  </div>
  <button class="red" onclick="leerPregunta('Why is shell scripting not suitable for proprietary closed-source applications?')">🔴 Leer</button>
  <button class="blue" onclick="escucharPronunciacion('Why is shell scripting not suitable for proprietary closed-source applications?')">🎤 Pronunciar</button>
  <button class="green" onclick="calificar('q7', '1')">✅ Calificar</button>
  <p id="resultado-q7"></p>
</div>

<!-- Pregunta 8 -->
<div class="question-box" id="q8">
  <p><b>Pregunta 8:</b> ¿Cuál es la traducción correcta de: <i>assessing</i>?</p>
  <div class="options">
    <label><input type="radio" name="q8" value="1"> Evaluando</label><br>
    <label><input type="radio" name="q8" value="2"> Saltando</label><br>
    <label><input type="radio" name="q8" value="3"> Cantando</label><br>
  </div>
  <button class="red" onclick="leerPregunta('assessing')">🔴 Leer</button>
  <button class="blue" onclick="escucharPronunciacion('assessing')">🎤 Pronunciar</button>
  <button class="green" onclick="calificar('q8', '1')">✅ Calificar</button>
  <p id="resultado-q8"></p>
</div>

<!-- Pregunta 9 -->
<div class="question-box" id="q9">
  <p><b>Pregunta 9:</b> ¿Cuál es la traducción correcta de: <i>whether</i>?</p>
  <div class="options">
    <label><input type="radio" name="q9" value="1"> Si (en el sentido de “ya sea que”)</label><br>
    <label><input type="radio" name="q9" value="2"> Clima</label><br>
    <label><input type="radio" name="q9" value="3"> Cuando</label><br>
  </div>
  <button class="red" onclick="leerPregunta('whether')">🔴 Leer</button>
  <button class="blue" onclick="escucharPronunciacion('whether')">🎤 Pronunciar</button>
  <button class="green" onclick="calificar('q9', '1')">✅ Calificar</button>
  <p id="resultado-q9"></p>
</div>

<!-- Botones finales -->
<div style="text-align:center; margin-top:30px;">
  <button class="reset" onclick="resetExamen()">🔄 Reset</button>
  <button class="evaluate" onclick="evaluarTodo()">📊 Evaluar Todo</button>
  <p id="resultado-final"></p>
</div>

<script>
  // Leer en voz alta
  function leerPregunta(texto) {
    let utter = new SpeechSynthesisUtterance(texto);
    utter.lang = "en-US";
    speechSynthesis.speak(utter);
  }

  // Escuchar pronunciación del usuario
  function escucharPronunciacion(correcta) {
    if (!('webkitSpeechRecognition' in window)) {
      alert("Tu navegador no soporta reconocimiento de voz.");
      return;
    }
    let rec = new webkitSpeechRecognition();
    rec.lang = "en-US";
    rec.start();

    rec.onresult = function(event) {
      let dicho = event.results[0][0].transcript.toLowerCase();
      if(dicho.includes(correcta.toLowerCase())) {
        alert("✅ Pronunciación correcta: " + dicho);
      } else {
        alert("❌ Pronunciación detectada: " + dicho + " | Se esperaba: " + correcta);
      }
    }
  }

  // Calificar una sola pregunta
  function calificar(pregunta, correcta) {
    let seleccion = document.querySelector('input[name="'+pregunta+'"]:checked');
    let resultado = document.getElementById("resultado-"+pregunta);
    
    if(!seleccion) {
      resultado.innerHTML = "⚠️ Debes seleccionar una opción.";
      resultado.style.color = "orange";
      return;
    }
    
    if(seleccion.value === correcta) {
      resultado.innerHTML = "✅ Correcto!";
      resultado.style.color = "green";
    } else {
      resultado.innerHTML = "❌ Incorrecto.";
      resultado.style.color = "red";
    }
  }

  // Reset del examen
  function resetExamen() {
    document.querySelectorAll("input[type=radio]").forEach(r => r.checked = false);
    document.querySelectorAll("[id^=resultado-q]").forEach(r => r.innerHTML = "");
    document.getElementById("resultado-final").innerHTML = "";
  }

  // Evaluar todo el examen
  function evaluarTodo() {
    let correctas = {
      q1:"1", q2:"1", q3:"1", q4:"1", q5:"1", q6:"1", q7:"1", q8:"1", q9:"1"
    };
    let aciertos = 0;
    let total = Object.keys(correctas).length;
    let reporte = "";

    for (let q in correctas) {
      let seleccion = document.querySelector('input[name="'+q+'"]:checked');
      if(seleccion && seleccion.value === correctas[q]) {
        aciertos++;
        reporte += `✅ ${q.toUpperCase()} Correcta<br>`;
      } else {
        reporte += `❌ ${q.toUpperCase()} Incorrecta<br>`;
      }
    }

    document.getElementById("resultado-final").innerHTML = 
      `<b>Resultados:</b><br>
      Aciertos: ${aciertos} de ${total} (${Math.round((aciertos/total)*100)}%)<br><br>${reporte}`;
  }
</script>

</body>
</html>
